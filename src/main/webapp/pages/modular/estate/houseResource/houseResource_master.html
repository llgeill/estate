@layout("/common/_container.html",{js:["/assets/modular/estate/houseResource/houseResource.js"]}){

<div class="layui-body-header">
    <span class="layui-body-header-title">房源信息管理</span>
</div>

<div class="layui-fluid">
    <div class="layui-row layui-col-space15">
        <div class="layui-col-sm12 layui-col-md12 layui-col-lg12">
            <div class="layui-card">
                <div class="layui-card-body">
                    <form class="layui-form layui-form-pane" lay-filter="houseResource"  action="">
                        <div class="layui-col-sm12 layui-col-md12 layui-col-lg12">
                            <div class="layui-col-sm2 layui-col-md2 layui-col-lg2">
                                <div class="layui-form-item">
                                    <label class="layui-form-label">房型</label>
                                    <div class="layui-input-block">
                                        <select name="roomTotal" id="roomTotal" lay-filter="roomTotal">
                                            <option value="" selected="">全部</option>
                                            <option value="1-1">1房</option>
                                            <option value="2-2">2房</option>
                                            <option value="3-3">3房</option>
                                            <option value="4-4">4房</option>
                                            <option value="1-2">1-2房</option>
                                            <option value="1-2">1-3房</option>
                                            <option value="1-2">1-4房</option>
                                            <option value="1-2">2-3房</option>
                                            <option value="1-2">2-4房</option>
                                            <option value="1-2">3-4房</option>
                                            <option value="4-">4房以上</option>
                                        </select>
                                        <div class="layui-unselect layui-form-select">
                                            <div class="layui-select-title"><input type="text" placeholder="请选择"
                                                                                   value="阅读" readonly=""
                                                                                   class="layui-input layui-unselect"><i
                                                    class="layui-edge"></i></div>
                                            <dl class="layui-anim layui-anim-upbit">
                                                <dd lay-value="" class="layui-select-tips">请选择</dd>
                                                <dd lay-value="0" class="">写作</dd>
                                                <dd lay-value="1" class="layui-this">阅读</dd>
                                                <dd lay-value="2" class="">游戏</dd>
                                                <dd lay-value="3" class="">音乐</dd>
                                                <dd lay-value="4" class="">旅行</dd>
                                            </dl>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="layui-col-sm2 layui-col-md2 layui-col-lg2">
                                <div class="layui-form-item">
                                    <label class="layui-form-label">交易</label>
                                    <div class="layui-input-block">
                                        <select name="transaction" id="transaction" lay-filter="transaction">
                                            <option value="" selected="">全部</option>
                                            <option value="出租">出租</option>
                                            <option value="出售">出售</option>
                                            <option value="租售">租售</option>
                                        </select>
                                        <div class="layui-unselect layui-form-select">
                                            <div class="layui-select-title"><input type="text" placeholder="请选择"
                                                                                   value="阅读" readonly=""
                                                                                   class="layui-input layui-unselect"><i
                                                    class="layui-edge"></i></div>
                                            <dl class="layui-anim layui-anim-upbit">
                                                <dd lay-value="" class="layui-select-tips">请选择</dd>
                                                <dd lay-value="0" class="">写作</dd>
                                                <dd lay-value="1" class="layui-this">阅读</dd>
                                                <dd lay-value="2" class="">游戏</dd>
                                                <dd lay-value="3" class="">音乐</dd>
                                                <dd lay-value="4" class="">旅行</dd>
                                            </dl>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="layui-col-sm2 layui-col-md2 layui-col-lg2">
                                <div class="layui-form-item">
                                    <label class="layui-form-label">状态</label>
                                    <div class="layui-input-block">
                                        <select name="state" id="state" lay-filter="aihao">
                                            <option value="" selected="">全部</option>
                                            <option value="出售">有效</option>
                                            <option value="出租">预定</option>
                                            <option value="租售">已售</option>
                                            <option value="出租">我售</option>
                                            <option value="租售">已租</option>
                                            <option value="出租">我租</option>
                                            <option value="租售">收租</option>
                                            <option value="租售">租购</option>
                                        </select>
                                        <div class="layui-unselect layui-form-select">
                                            <div class="layui-select-title"><input type="text" placeholder="请选择"
                                                                                   value="阅读" readonly=""
                                                                                   class="layui-input layui-unselect"><i
                                                    class="layui-edge"></i></div>
                                            <dl class="layui-anim layui-anim-upbit">
                                                <dd lay-value="" class="layui-select-tips">请选择</dd>
                                                <dd lay-value="0" class="">写作</dd>
                                                <dd lay-value="1" class="layui-this">阅读</dd>
                                                <dd lay-value="2" class="">游戏</dd>
                                                <dd lay-value="3" class="">音乐</dd>
                                                <dd lay-value="4" class="">旅行</dd>
                                            </dl>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="layui-col-sm3 layui-col-md3 layui-col-lg3">
                                <div class="layui-form-item">
                                    <label class="layui-form-label">智能搜索</label>
                                    <div class="layui-input-block">
                                        <input id="condition" class="layui-input" type="text"
                                               placeholder="栋座名称/房号/栋座名称-房号"/>
                                    </div>
                                </div>
                            </div>
                            <div class="layui-col-sm3 layui-col-md3 layui-col-lg3">
                                <div class="layui-form-item">
                                    <button id="btnSearch" class="layui-btn icon-btn"><i class="layui-icon">&#xe615;</i>搜索
                                    </button>
                                    <button id="btnAdd" class="layui-btn icon-btn"><i class="layui-icon">&#xe654;</i>添加
                                    </button>
                                    <button id="btnExp" class="layui-btn icon-btn"><i class="layui-icon">&#xe67d;</i>导出
                                    </button>
                                    <button id="foldAll" class="layui-btn icon-btn"><i class="layui-icon"></i>展开
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div id="showAndHideDiv" shval=0 hidden>
                            <div class="layui-col-sm12 layui-col-md12 layui-col-lg12">
                                <div class="layui-col-sm6 layui-col-md6 layui-col-lg6">
                                    <div class="layui-form-item" pane="">
                                        <label class="layui-form-label">租价</label>
                                        <div class="layui-input-block">
                                            <input type="radio" name="rental" value="" title="全部" checked>
                                            <div class="layui-unselect layui-form-radio layui-form-radioed"><i
                                                    class="layui-anim layui-icon"></i>
                                                <div>全部</div>
                                            </div>
                                            <input type="radio" name="rental" value="0-1200" title="1200元以下">
                                            <div class="layui-unselect layui-form-radio layui-form-radioed"><i
                                                    class="layui-anim layui-icon"></i>
                                                <div>1200元以下</div>
                                            </div>
                                            <input type="radio" name="rental" value="1200-1800" title="1200-1800元">
                                            <div class="layui-unselect layui-form-radio layui-form-radioed"><i
                                                    class="layui-anim layui-icon"></i>
                                                <div>1200-1800元</div>
                                            </div>
                                            <input type="radio" name="rental" value="1800-2500" title="1800-2500元">
                                            <div class="layui-unselect layui-form-radio"><i
                                                    class="layui-anim layui-icon"></i>
                                                <div>1800-2500元</div>
                                            </div>
                                            <input type="radio" name="rental" value="2500-" title="2500元以上">
                                            <div class="layui-unselect layui-form-radio"><i
                                                    class="layui-anim layui-icon"></i>
                                                <div>2500元以上</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="layui-col-sm6 layui-col-md6 layui-col-lg6">
                                    <div class="layui-form-item" pane="">
                                        <label class="layui-form-label">售价</label>
                                        <div class="layui-input-block">
                                            <input type="radio" name="price" value="" title="全部" checked>
                                            <div class="layui-unselect layui-form-radio layui-form-radioed"><i
                                                    class="layui-anim layui-icon"></i>
                                                <div>全部</div>
                                            </div>
                                            <input type="radio" name="price" value="0-50" title="50万以下">
                                            <div class="layui-unselect layui-form-radio layui-form-radioed"><i
                                                    class="layui-anim layui-icon"></i>
                                                <div>50万以下</div>
                                            </div>
                                            <input type="radio" name="price" value="50-100" title="50-100万">
                                            <div class="layui-unselect layui-form-radio layui-form-radioed"><i
                                                    class="layui-anim layui-icon"></i>
                                                <div>50-100万</div>
                                            </div>
                                            <input type="radio" name="price" value="100-200" title="100-200万">
                                            <div class="layui-unselect layui-form-radio"><i
                                                    class="layui-anim layui-icon"></i>
                                                <div>100-200万</div>
                                            </div>
                                            <input type="radio" name="price" value="300-" title="300万以上">
                                            <div class="layui-unselect layui-form-radio"><i
                                                    class="layui-anim layui-icon"></i>
                                                <div>200万以上</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div class="layui-col-sm12 layui-col-md12 layui-col-lg12">
                                <div class="layui-col-sm6 layui-col-md6 layui-col-lg6">
                                    <div class="layui-form-item" pane="">
                                        <label class="layui-form-label">面积</label>
                                        <div class="layui-input-block">
                                            <input type="radio" name="area" value="" title="全部" checked>
                                            <div class="layui-unselect layui-form-radio layui-form-radioed"><i
                                                    class="layui-anim layui-icon"></i>
                                                <div>全部</div>
                                            </div>
                                            <input type="radio" name="area" value="0-50" title="50万以下">
                                            <div class="layui-unselect layui-form-radio layui-form-radioed"><i
                                                    class="layui-anim layui-icon"></i>
                                                <div>50万以下</div>
                                            </div>
                                            <input type="radio" name="area" value="50-80" title="50-80平方">
                                            <div class="layui-unselect layui-form-radio layui-form-radioed"><i
                                                    class="layui-anim layui-icon"></i>
                                                <div>50-80平方</div>
                                            </div>
                                            <input type="radio" name="area" value="80-120" title="80-120平方">
                                            <div class="layui-unselect layui-form-radio layui-form-radioed"><i
                                                    class="layui-anim layui-icon"></i>
                                                <div>80-120平方</div>
                                            </div>
                                            <input type="radio" name="area" value="120-" title="120平方以上">
                                            <div class="layui-unselect layui-form-radio layui-form-radioed"><i
                                                    class="layui-anim layui-icon"></i>
                                                <div>120平方以上</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="layui-col-sm3 layui-col-md3 layui-col-lg3">
                                    <div class="layui-form-item">
                                        <label class="layui-form-label">房屋类型</label>
                                        <div class="layui-input-block">
                                            <select id="houseType" name="houseType" placeholder="请输入房屋类型"
                                                    lay-filter="simpleSelect">
                                                <option value="" selected="">全部</option>
                                                <option value="多层">多层</option>
                                                <option value="小高层">小高层</option>
                                                <option value="高层">高层</option>
                                            </select>
                                            <div class="layui-unselect layui-form-select">
                                                <div class="layui-select-title"><input type="text" placeholder="请选择"
                                                                                       value="阅读" readonly=""
                                                                                       class="layui-input layui-unselect"><i
                                                        class="layui-edge"></i></div>
                                                <dl class="layui-anim layui-anim-upbit">
                                                    <dd lay-value="" class="layui-select-tips">请选择</dd>
                                                    <dd lay-value="0" class="layui-this">写作</dd>
                                                    <dd lay-value="1" class="">阅读</dd>
                                                    <dd lay-value="2" class="">游戏</dd>
                                                    <dd lay-value="3" class="">音乐</dd>
                                                    <dd lay-value="4" class="">旅行</dd>
                                                </dl>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="layui-col-sm3 layui-col-md3 layui-col-lg3">
                                    <div class="layui-form-item">
                                        <label class="layui-form-label">朝向</label>
                                        <div class="layui-input-block">
                                            <select id="orientation" name="orientation" placeholder="请输入朝向"
                                                    lay-filter="simpleSelect">
                                                <option value="" selected="">全部</option>
                                                <option value="东">东</option>
                                                <option value="南">南</option>
                                                <option value="西">西</option>
                                                <option value="北">北</option>
                                                <option value="西南">西南</option>
                                                <option value="西北">西北</option>
                                                <option value="东南">东南</option>
                                                <option value="东北">东北</option>
                                                <option value="南北">南北</option>
                                            </select>
                                            <div class="layui-unselect layui-form-select">
                                                <div class="layui-select-title"><input type="text" placeholder="请选择"
                                                                                       value="阅读" readonly=""
                                                                                       class="layui-input layui-unselect"><i
                                                        class="layui-edge"></i></div>
                                                <dl class="layui-anim layui-anim-upbit">
                                                    <dd lay-value="" class="layui-select-tips">请选择</dd>
                                                    <dd lay-value="0" class="layui-this">写作</dd>
                                                    <dd lay-value="1" class="">阅读</dd>
                                                    <dd lay-value="2" class="">游戏</dd>
                                                    <dd lay-value="3" class="">音乐</dd>
                                                    <dd lay-value="4" class="">旅行</dd>
                                                </dl>
                                            </div>

                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="layui-col-sm12 layui-col-md12 layui-col-lg12">
                                <div class="layui-col-sm3 layui-col-md3 layui-col-lg3">
                                    <div class="layui-form-item">
                                        <label class="layui-form-label">委托时间</label>
                                        <div class="layui-input-block">
                                            <input id="entrustBetweenTime" name="entrustBetweenTime" value=" "
                                                   placeholder="请输入时间，例如2019-02-06 - 2019-03-20" type="text"
                                                   class="layui-input" autocomplete="off" lay-key="2">
                                        </div>
                                    </div>
                                </div>
                                <div class="layui-col-sm3 layui-col-md3 layui-col-lg3">
                                    <div class="layui-form-item">
                                        <label class="layui-form-label">房源类型</label>
                                        <div class="layui-input-block">
                                            <select id="purpose" name="purpose" placeholder="请输入用途"
                                                    lay-filter="simpleSelect">
                                                <option value="" selected="">全部</option>
                                                <option value="住宅小区">住宅小区</option>
                                                <option value="商业用房">商业用房</option>
                                                <option value="教育用房">教育用房</option>
                                                <option value="教育用房">其他</option>
                                            </select>
                                            <div class="layui-unselect layui-form-select">
                                                <div class="layui-select-title"><input type="text" placeholder="请选择"
                                                                                       value="阅读" readonly=""
                                                                                       class="layui-input layui-unselect"><i
                                                        class="layui-edge"></i></div>
                                                <dl class="layui-anim layui-anim-upbit">
                                                    <dd lay-value="" class="layui-select-tips">请选择</dd>
                                                    <dd lay-value="0" class="layui-this">写作</dd>
                                                    <dd lay-value="1" class="">阅读</dd>
                                                    <dd lay-value="2" class="">游戏</dd>
                                                    <dd lay-value="3" class="">音乐</dd>
                                                    <dd lay-value="4" class="">旅行</dd>
                                                </dl>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="layui-col-sm2 layui-col-md2 layui-col-lg2">
                                    <div class="layui-form-item">
                                        <label class="layui-form-label">厅卫</label>
                                        <div class="layui-input-block">
                                            <select id="hallToilet" name="hallToilet" placeholder="请输入用途"
                                                    lay-filter="simpleSelect">
                                                <option value="" selected="">全部</option>
                                                <option value="厅">厅</option>
                                                <option value="卫">卫</option>
                                            </select>
                                            <div class="layui-unselect layui-form-select">
                                                <div class="layui-select-title"><input type="text" placeholder="请选择"
                                                                                       value="阅读" readonly=""
                                                                                       class="layui-input layui-unselect"><i
                                                        class="layui-edge"></i></div>
                                                <dl class="layui-anim layui-anim-upbit">
                                                    <dd lay-value="" class="layui-select-tips">请选择</dd>
                                                    <dd lay-value="0" class="layui-this">写作</dd>
                                                    <dd lay-value="1" class="">阅读</dd>
                                                    <dd lay-value="2" class="">游戏</dd>
                                                    <dd lay-value="3" class="">音乐</dd>
                                                    <dd lay-value="4" class="">旅行</dd>
                                                </dl>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="layui-col-sm2 layui-col-md2 layui-col-lg2">
                                    <div class="layui-form-item">
                                        <label class="layui-form-label">数量</label>
                                        <div class="layui-input-block">
                                            <select id="hallToiletTotal" name="hallToiletTotal" placeholder="请输入用途"
                                                    lay-filter="simpleSelect">
                                                <option value="" selected="">全部</option>
                                                <option value=1>1</option>
                                                <option value=2>2</option>
                                                <option value=3>3</option>
                                                <option value=4>4</option>
                                            </select>
                                            <div class="layui-unselect layui-form-select">
                                                <div class="layui-select-title"><input type="text" placeholder="请选择"
                                                                                       value="阅读" readonly=""
                                                                                       class="layui-input layui-unselect"><i
                                                        class="layui-edge"></i></div>
                                                <dl class="layui-anim layui-anim-upbit">
                                                    <dd lay-value="" class="layui-select-tips">请选择</dd>
                                                    <dd lay-value="0" class="layui-this">写作</dd>
                                                    <dd lay-value="1" class="">阅读</dd>
                                                    <dd lay-value="2" class="">游戏</dd>
                                                    <dd lay-value="3" class="">音乐</dd>
                                                    <dd lay-value="4" class="">旅行</dd>
                                                </dl>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="layui-col-sm2 layui-col-md2 layui-col-lg2">
                                    <div class="layui-form-item">
                                        <label class="layui-form-label">推介加密</label>
                                        <div class="layui-input-block">
                                            <select id="houseResourceType" name="houseResourceType" placeholder="请输入用途"
                                                    lay-filter="simpleSelect">
                                                <option value="" selected="">全部</option>
                                                <option value="推介房">推介房</option>
                                                <option value="加密房">加密房</option>
                                            </select>
                                            <div class="layui-unselect layui-form-select">
                                                <div class="layui-select-title"><input type="text" placeholder="请选择"
                                                                                       value="阅读" readonly=""
                                                                                       class="layui-input layui-unselect"><i
                                                        class="layui-edge"></i></div>
                                                <dl class="layui-anim layui-anim-upbit">
                                                    <dd lay-value="" class="layui-select-tips">请选择</dd>
                                                    <dd lay-value="0" class="layui-this">写作</dd>
                                                    <dd lay-value="1" class="">阅读</dd>
                                                    <dd lay-value="2" class="">游戏</dd>
                                                    <dd lay-value="3" class="">音乐</dd>
                                                    <dd lay-value="4" class="">旅行</dd>
                                                </dl>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>


                    </form>

                    <table class="layui-table" id="houseResourceTable" lay-filter="houseResourceTable">
                    </table>
                    <div class="layui-tab layui-tab-card"  id="testLUBOO" >
                        <ul class="layui-tab-title">
                            <li class="layui-this"><i class="layui-icon">&#xe68e;</i> 详细属性</li>
                            <li><i class="layui-icon">&#xe66e;</i> 跟进情况</li>
                            <li><i class="layui-icon">&#xe60d;</i> 房源照片</li>
                            <li><i class="layui-icon">&#xe6b2;</i> 添加跟进信息</li>

                        </ul>
                        <div class="layui-tab-content" style="height: 100%;">
                            <div class="layui-tab-item layui-show">

                                <table  class="layui-table"  lay-skin="nob" >

                                    <tbody>
                                    <tr>
                                        <td>2房</td>
                                        <td>出售</td>
                                        <td>一卫</td>
                                    </tr>
                                    <tr>
                                        <td>1200元/月</td>
                                        <td>合景天峻</td>
                                        <td>有钥匙</td>
                                    </tr>
                                    </tbody>
                                </table>

                            </div>
                            <div class="layui-tab-item" style="overflow: scroll; height: 300px; ">
                                <ul class="layui-timeline">
                                    <li class="layui-timeline-item">
                                        <i class="layui-icon layui-timeline-axis">&#xe63f;</i>
                                        <div class="layui-timeline-content layui-text">
                                            <h3 class="layui-timeline-title">8月18日</h3>
                                            <p>
                                                layui 2.0 的一切准备工作似乎都已到位。发布之弦，一触即发。
                                                <br>不枉近百个日日夜夜与之为伴。因小而大，因弱而强。
                                                <br>无论它能走多远，抑或如何支撑？至少我曾倾注全心，无怨无悔 <i class="layui-icon"></i>
                                            </p>
                                        </div>
                                    </li>
                                    <li class="layui-timeline-item">
                                        <i class="layui-icon layui-timeline-axis">&#xe63f;</i>
                                        <div class="layui-timeline-content layui-text">
                                            <h3 class="layui-timeline-title">8月16日</h3>
                                            <p>杜甫的思想核心是儒家的仁政思想，他有“<em>致君尧舜上，再使风俗淳</em>”的宏伟抱负。个人最爱的名篇有：</p>
                                            <ul>
                                                <li>《登高》</li>
                                                <li>《茅屋为秋风所破歌》</li>
                                            </ul>
                                        </div>
                                    </li>
                                    <li class="layui-timeline-item">
                                        <i class="layui-icon layui-timeline-axis">&#xe63f;</i>
                                        <div class="layui-timeline-content layui-text">
                                            <h3 class="layui-timeline-title">8月15日</h3>
                                            <p>
                                                中国人民抗日战争胜利72周年
                                                <br>常常在想，尽管对这个国家有这样那样的抱怨，但我们的确生在了最好的时代
                                                <br>铭记、感恩
                                                <br>所有为中华民族浴血奋战的英雄将士
                                                <br>永垂不朽
                                            </p>
                                        </div>
                                    </li>
                                    <li class="layui-timeline-item">
                                        <i class="layui-icon layui-timeline-axis">&#xe63f;</i>
                                        <div class="layui-timeline-content layui-text">
                                            <div class="layui-timeline-title">过去</div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <div class="layui-tab-item"  style="height: 350px">
                                <div class="layui-carousel" id="test2" >
                                    <div carousel-item>
                                        <div><img src="http://localhost/702f1ece-4295-4e76-a5fe-3bcc5669a4d2.jpg"/></div>
                                        <div><img src="http://localhost/702f1ece-4295-4e76-a5fe-3bcc5669a4d2.jpg"/></div>
                                        <div><img src="http://localhost/702f1ece-4295-4e76-a5fe-3bcc5669a4d2.jpg"/></div>
                                        <div><img src="http://localhost/702f1ece-4295-4e76-a5fe-3bcc5669a4d2.jpg"/></div>
                                        <div><img src="http://localhost/702f1ece-4295-4e76-a5fe-3bcc5669a4d2.jpg"/></div>
                                    </div>
                                </div>
                            </div>
                            <div class="layui-tab-item">
                                <div class="layui-form-item layui-form-text">
                                    <label class="layui-form-label" style="font-weight: normal;text-align: center;width: 140px;">
                                        <span>业务员：李利光</span><br> +<span>业务员：李利光</span><br>
                                        <span>业务员：李利光</span><br>
                                    </label>
                                    <div class="layui-input-block">
                                        <textarea placeholder="请输入内容" class="layui-textarea" style="width: 91%"></textarea>
                                    </div>
                                </div>

                                <div class="layui-form-item">
                                    <div class="layui-input-block" style=" margin-left: 155px;">
                                        <button class="layui-btn" lay-submit="" lay-filter="demo1">立即添加</button>
                                        <button type="reset" class="layui-btn layui-btn-primary">重置</button>
                                    </div>
                                </div>
                            </div>
                            <div class="layui-tab-item">5</div>
                            <div class="layui-tab-item">6</div>
                        </div>
                    </div>
                    <!--<style>-->
                        <!--.layui-layer-tab .layui-layer-title{-->
                            <!--overflow: hidden;-->
                        <!--}-->

                    <!--</style>-->


                </div>
            </div>
        </div>
    </div>
</div>
<script>
    // var childcontent = ""
    // document.getElementsByClassName("head")[0].appendChild()

    function carousel(root) {
        var figure = root.querySelector('figure'),
            nav = root.querySelector('nav'),
            images = figure.children,
            n = images.length,
            gap = root.dataset.gap || 0,
            bfc = 'bfc' in root.dataset,
            theta = 2 * Math.PI / n,
            currImage = 0;

        setupCarousel(n, parseFloat(getComputedStyle(images[0]).width));
        window.addEventListener('resize', function () {
            setupCarousel(n, parseFloat(getComputedStyle(images[0]).width));
        });

        setupNavigation();

        function setupCarousel(n, s) {
            var apothem = s / (2 * Math.tan(Math.PI / n));

            figure.style.transformOrigin = '50% 50% ' + -apothem + 'px';

            for (var i = 0; i < n; i++) {
                images[i].style.padding = gap + 'px';
            }
            for (i = 1; i < n; i++) {
                images[i].style.transformOrigin = '50% 50% ' + -apothem + 'px';
                images[i].style.transform = 'rotateY(' + i * theta + 'rad)';
            }
            if (bfc) for (i = 0; i < n; i++) {
                images[i].style.backfaceVisibility = 'hidden';
            }
            rotateCarousel(currImage);
        }

        function setupNavigation() {
            nav.addEventListener('click', onClick, true);

            function onClick(e) {
                e.stopPropagation();

                var t = e.target;
                if (t.tagName.toUpperCase() != 'BUTTON') return;

                if (t.classList.contains('next')) {
                    currImage++;
                } else {
                    currImage--;
                }

                rotateCarousel(currImage);
            }
        }

        function rotateCarousel(imageIndex) {
            figure.style.transform = 'rotateY(' + imageIndex * -theta + 'rad)';
        }
    }

    var carousels = document.querySelectorAll('.carousel');

    for (var i = 0; i < carousels.length; i++) {
        carousel(carousels[i]);
    }
</script>
<script type="text/html" id="tableBar">
    <a class="layui-btn layui-btn-primary layui-btn-xs" lay-event="edit">修改</a>
    <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="delete">删除</a>
</script>
@}